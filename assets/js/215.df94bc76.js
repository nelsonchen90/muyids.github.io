(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{396:function(s,e,t){"use strict";t.r(e);var a=t(42),i=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("hr"),s._v(" "),t("p",[s._v("title: 使用ssh-keygen配置自动登录\ndate: 2017-12-01T00:00:00+08:00\ncategories: [shell,linux]\ntags: [shell,linux]")]),s._v(" "),t("hr"),s._v(" "),t("p",[s._v("ssh 是一个专为远程登录会话和其他网络服务提供安全性的协议。ssh-keygen可用来生成ssh公钥认证所需的公钥和私钥文件")]),s._v(" "),t("h3",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[s._v("#")]),s._v(" 背景")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("使用git clone拉取git仓库代码时, 提示：")]),s._v(" "),t("p",[s._v("Permission denied (publickey).\nfatal: Could not read from remote repository.")])]),s._v(" "),t("li",[t("p",[s._v("登录远程Linux主机，每次都要ssh输入密码，可否自动登录？")])])]),s._v(" "),t("h3",{attrs:{id:"命令介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令介绍"}},[s._v("#")]),s._v(" 命令介绍")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ssh-keygen")]),s._v(" "),t("p",[s._v("产生公钥与私钥对.")])]),s._v(" "),t("li",[t("p",[s._v("ssh-copy-id")]),s._v(" "),t("p",[s._v("将本机的公钥复制到远程机器的authorized_keys文件中，ssh-copy-id也能让你有到远程机器的home,~/.ssh,和~/.ssh/authorized_keys的权利")])])]),s._v(" "),t("h3",{attrs:{id:"设置git仓库权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置git仓库权限"}},[s._v("#")]),s._v(" 设置git仓库权限")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("查看~/.ssh, 或使用ssh-keygen产生公钥私钥对")]),s._v(" "),t("p",[s._v("$ ssh-keygen")])]),s._v(" "),t("li",[t("p",[s._v("添加到git仓库SSH key")]),s._v(" "),t("p",[s._v("将~/.ssh/id_rsa.pub中的公钥添加到git仓库SSH key。")])])]),s._v(" "),t("h3",{attrs:{id:"设置ssh自动登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置ssh自动登录"}},[s._v("#")]),s._v(" 设置ssh自动登录")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("查看~/.ssh, 或使用ssh-keygen产生公钥私钥对")]),s._v(" "),t("p",[s._v("mac$ ssh-keygen")])]),s._v(" "),t("li",[t("p",[s._v("用ssh-copy-id将公钥复制到远程机器中")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ssh-copy-id -i ~/.ssh/id_rsa.pub [-p xxx]  user@remote-host-ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("注意")]),s._v("\nssh-copy-id将key写到远程机器的 ~/.ssh/authorized_key文件中")])]),s._v(" "),t("li",[t("p",[s._v("在~/.ssh目录下创建文件config，添加远程主机授权")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Host 主机名\n    HostName 远程主机IP\n    User root\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/id_rsa\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("登陆远程主机")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ssh 主机名\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("p",[t("strong",[s._v("使用ssh实现自动登录，对于运维远程主机提供很大的便捷。")])])])}),[],!1,null,null,null);e.default=i.exports}}]);